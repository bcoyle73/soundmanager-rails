<%= case Soundmanager.env
when 'development'
  File.open(File.expand_path('../../../../vendor/assets/javascripts/soundmanager2.js', __FILE__)).read
else
  File.open(File.expand_path('../../../../vendor/assets/javascripts/soundmanager2-nodebug.js', __FILE__)).read
end %>

//
// this just configures soundmanager
// to properly load its default swf files
//

(function() {
  if (typeof soundManager != 'undefined') {
    soundManager.setup({
      url:                 '<%= Rails.application.config.assets.prefix + "/swf/" %>',
      flashFilename:       '<%= File.basename asset_path "swf/soundmanager2.swf" %>',
      flash9Filename:      '<%= File.basename asset_path "swf/soundmanager2_flash9.swf" %>',
      flashDebugFilename:  '<%= File.basename asset_path "swf/soundmanager2_debug.swf" %>',
      flash9DebugFilename: '<%= File.basename asset_path "swf/soundmanager2_flash9_debug.swf" %>',
      debugMode:           !<%= Soundmanager.env.production?.to_s %>
    });
  }
})();